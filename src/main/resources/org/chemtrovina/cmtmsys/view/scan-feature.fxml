<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<BorderPane style="-fx-background-color: #456F92;"
            xmlns="http://javafx.com/javafx/23.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="org.chemtrovina.cmtmsys.controller.ScanController">

   <!-- ====================== TOP FILTER BAR ====================== -->
   <top>
      <HBox alignment="CENTER_LEFT" spacing="10" style="-fx-padding: 10;">
         <children>

            <!-- Date -->
            <HBox alignment="CENTER_LEFT" spacing="5"
                  style="-fx-background-color: white; -fx-background-radius: 5; -fx-padding: 5 10;">
               <Text text="Date" />
               <DatePicker fx:id="dpDate"/>
            </HBox>

            <!-- Invoice No -->
            <HBox alignment="CENTER_LEFT" spacing="5"
                  style="-fx-background-color: white; -fx-background-radius: 5; -fx-padding: 5 10;">
               <Text text="Invoice No" />
               <ComboBox fx:id="cbInvoiceNo1" prefWidth="150"/>
            </HBox>

            <!-- Invoice PN -->
            <HBox alignment="CENTER_LEFT" spacing="5"
                  style="-fx-background-color: white; -fx-background-radius: 5; -fx-padding: 5 10;">
               <Text text="Invoice PN" />
               <ComboBox fx:id="cbInvoicePN" prefWidth="150"/>
            </HBox>

            <Button fx:id="btnSearch" text="Search"/>
            <Button fx:id="btnClear" text="Clear"/>

         </children>
      </HBox>
   </top>

   <!-- ====================== CENTER LAYOUT ====================== -->
   <center>
      <HBox spacing="20" style="-fx-padding: 10;">

         <!-- ====================== LEFT AREA (INVOICE + SCAN + TABLE) ====================== -->
         <VBox spacing="10" HBox.hgrow="ALWAYS">

            <!-- HÀNG TRÊN: TBL INVOICE (TRÁI) + BLOCK SCAN (PHẢI) -->
            <HBox spacing="10" VBox.vgrow="NEVER">

               <!-- Invoice list ở góc trái -->
               <TableView fx:id="tblInvoiceList" prefHeight="160" prefWidth="260">
                  <columns>
                     <TableColumn fx:id="colDate" prefWidth="100" text="Date"/>
                     <TableColumn fx:id="colInvoiceNo" prefWidth="140" text="Invoice No"/>
                  </columns>
               </TableView>

               <!-- Block scan nằm bên phải -->
               <VBox spacing="8" prefWidth="320" maxWidth="320">

                  <HBox alignment="CENTER_LEFT" spacing="10" prefWidth="320"
                        style="-fx-background-color:white; -fx-background-radius:5; -fx-padding:5 10;">
                     <Text text="ID"/>
                     <TextField fx:id="txtScanInput" prefWidth="150"/>
                     <Button fx:id="btnOnOff" text="On"
                             prefWidth="60"
                             style="-fx-background-color:#3b7bd0; -fx-text-fill:white; -fx-background-radius:5;"/>
                  </HBox>

                  <HBox alignment="CENTER_LEFT" spacing="10" prefWidth="320"
                        style="-fx-background-color:white; -fx-background-radius:5; -fx-padding:5 10;">
                     <Text text="Select SAP"/>
                     <TextField fx:id="txtSapSelect" prefWidth="220"/>
                  </HBox>

                  <HBox alignment="CENTER_LEFT" spacing="10" prefWidth="320"
                        style="-fx-background-color:white; -fx-background-radius:5; -fx-padding:5 10;">
                     <Text text="Scan Code"/>
                     <TextField fx:id="txtScanCode" prefWidth="220"/>
                  </HBox>

                  <Button fx:id="btnScanOddReel"
                          text="Scan odd reel"
                          prefWidth="140"
                          style="-fx-background-color:#3b7bd0; -fx-text-fill:white; -fx-background-radius:5;"/>

               </VBox>

            </HBox>

            <!-- BẢNG CHI TIẾT SCAN BÊN DƯỚI -->
            <TableView fx:id="tblScanDetails" VBox.vgrow="ALWAYS">
               <columns>
                  <TableColumn fx:id="colMakerCode" prefWidth="120" text="Maker Code"/>
                  <TableColumn fx:id="colSapCode" prefWidth="100" text="SAP Code"/>
                  <TableColumn fx:id="colMaker" prefWidth="100" text="Maker"/>
                  <TableColumn fx:id="colSpec" prefWidth="250" text="Spec"/>
                  <TableColumn fx:id="colMOQ" prefWidth="60" text="MOQ"/>
                  <TableColumn fx:id="colQty" prefWidth="90" text="Qty Required"/>
                  <TableColumn fx:id="colQtyScanned" prefWidth="100" text="Qty Scanned"/>
                  <TableColumn fx:id="colReelQty" prefWidth="80" text="Reel Qty"/>
                  <TableColumn fx:id="colStatus" prefWidth="80" text="Status"/>
               </columns>
            </TableView>

            <Button fx:id="btnRefresh" text="Refresh" alignment="CENTER_RIGHT"/>

         </VBox>

         <!-- ====================== RIGHT PANEL — SCAN RESULT ====================== -->
         <VBox alignment="TOP_CENTER" prefWidth="400" spacing="20" HBox.hgrow="ALWAYS">

            <StackPane minHeight="60" prefHeight="60" maxHeight="60"
                       style="-fx-background-color: #3789e1; -fx-background-radius: 10;">

            <Text text="Scan Result"
                     style="-fx-font-weight: bold;" fill="WHITE">
                  <font><Font size="24"/></font>
               </Text>
            </StackPane>

            <StackPane fx:id="paneScanResult"
                       style="-fx-background-color:#aeadad; -fx-background-radius:10;"
                       VBox.vgrow="ALWAYS">
               <Text fx:id="txtScanStatus" text="None" fill="#807a7a">
                  <font><Font size="64"/></font>
               </Text>
            </StackPane>

            <HBox alignment="CENTER" spacing="20">
               <Button fx:id="btnKeepGoing"
                       text="Keep going"
                       style="-fx-background-color:#22d73a; -fx-text-fill:white; -fx-background-radius:10;">
                  <font><Font size="18"/></font>
               </Button>

               <Button fx:id="btnCallSuperV"
                       text="Call Super-V"
                       style="-fx-background-color:#f54d4d; -fx-text-fill:white; -fx-background-radius:10;">
                  <font><Font size="18"/></font>
               </Button>
            </HBox>

         </VBox>

      </HBox>
   </center>

</BorderPane>
