<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<AnchorPane prefHeight="700.0" prefWidth="900.0"
            xmlns="http://javafx.com/javafx/23.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="org.chemtrovina.cmtmsys.controller.FeederMultiRollController">

    <VBox spacing="10" AnchorPane.topAnchor="10" AnchorPane.leftAnchor="10" AnchorPane.rightAnchor="10" AnchorPane.bottomAnchor="10">

        <!-- TiÃªu Ä‘á» -->
        <Label text="Quáº£n lÃ½ Gáº¯n Cuá»™n cho Feeder" style="-fx-font-size: 18px; -fx-font-weight: bold;" />

        <!-- Chá»n model -->
        <HBox spacing="10">
            <TextField fx:id="txtModelCode" promptText="MÃ£ Model" prefWidth="120" />
            <ComboBox fx:id="cbModelType" promptText="Loáº¡i Model" prefWidth="120" />
            <ComboBox fx:id="cbLines" promptText="Chá»n Line" prefWidth="180" />
            <Button fx:id="btnLoadFeeders" text="Táº£i Feeders" />
        </HBox>

        <!-- PhiÃªn cháº¡y -->
        <HBox spacing="10">
            <Label text="PhiÃªn cháº¡y:" />
            <ComboBox fx:id="cbRunHistory" promptText="Chá»n phiÃªn" prefWidth="150" />
            <Button fx:id="btnCreateRun" text="Táº¡o phiÃªn má»›i" />
            <Button fx:id="btnToggleRun" text="ON/OFF" />


        </HBox>

        <!-- Báº£ng feeder -->
        <TableView fx:id="tblFeederAssignments" prefHeight="380.0">
            <columns>
                <TableColumn fx:id="colFeederCode" text="Feeder Code" prefWidth="100" />
                <TableColumn fx:id="colMachine" text="Machine" prefWidth="100" />
                <TableColumn fx:id="colSapCode" text="SAP Code" prefWidth="100" />
                <TableColumn fx:id="colFeederQty" text="Feeder Qty" prefWidth="80" />
                <TableColumn fx:id="colRollCode" text="Cuá»™n Ä‘ang gáº¯n" prefWidth="140" />
                <TableColumn fx:id="colMaterialQty" text="SL Cuá»™n" prefWidth="80" />
                <TableColumn fx:id="colStatus" text="Tráº¡ng thÃ¡i" prefWidth="120" />
            </columns>
        </TableView>

        <!-- Chia Ä‘Ã´i pháº§n dÆ°á»›i -->
        <HBox spacing="20" HBox.hgrow="ALWAYS">
            <!-- BÃªn trÃ¡i: Gáº¯n/cuá»™n tÃ¬m feeder -->
            <VBox spacing="10" HBox.hgrow="ALWAYS">
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Label text="Scan FeederCode:" />
                    <TextField fx:id="txtSearchFeederCode" promptText="QuÃ©t mÃ£ Feeder..." prefWidth="200" />
                </HBox>

                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Label text="Scan RollCode Ä‘á»ƒ Gáº®N:" />
                    <TextField fx:id="txtRollCode" promptText="QuÃ©t mÃ£ cuá»™n Ä‘á»ƒ gáº¯n vÃ o feeder" prefWidth="200" />
                </HBox>

                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Label text="Scan RollCode Ä‘á»ƒ tÃ¬m Feeder theo SAP:" />
                    <TextField fx:id="txtScanRollForSap" promptText="QuÃ©t mÃ£ cuá»™n..." prefWidth="200" />
                </HBox>

                <TableView fx:id="tblFeederBySap" prefHeight="250" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="colFeederCodeBySap" text="Feeder Code" prefWidth="100" />
                        <TableColumn fx:id="colSapCodeBySap" text="SAP Code" prefWidth="100" />
                        <TableColumn fx:id="colStatusBySap" text="Tráº¡ng thÃ¡i" prefWidth="100" />
                        <TableColumn fx:id="colAttachButton" text="Gáº¯n" prefWidth="60" />
                        <TableColumn fx:id="colDeleteButton" text="XÃ³a" prefWidth="60" />
                    </columns>
                </TableView>
            </VBox>

            <!-- BÃªn pháº£i: TÃ¬m cuá»™n theo Xe/CÃ¢y -->
            <VBox spacing="10" HBox.hgrow="ALWAYS" prefHeight="370"> <!-- ðŸ‘ˆ Giá»›i háº¡n chiá»u cao -->
                <TitledPane text="ðŸ“¦ TÃ¬m cuá»™n theo Xe / CÃ¢y" expanded="true">
                    <VBox spacing="10">

                        <HBox spacing="5">
                            <Label text="Xe cÃ¢y:" />
                            <ComboBox fx:id="cbTruckCode" prefWidth="100" promptText="Chá»n mÃ£ xe..." />
                            <Label text="MÃ£ cÃ¢y:" />
                            <TextField fx:id="txtTreeCode" promptText="Nháº­p mÃ£ cÃ¢y..." prefWidth="100" />
                            <Label text="MÃ£ cuá»™n:" />
                            <TextField fx:id="txtRollCodeSearch" promptText="Nháº­p mÃ£ cuá»™n..." prefWidth="100" />
                            <Label text="SAP Code:" />
                            <TextField fx:id="txtSapSearch" promptText="SAP..." prefWidth="80" />
                            <Button fx:id="btnSearchTree" text="ðŸ”" />
                        </HBox>

                        <TitledPane text="ðŸ“„ Danh sÃ¡ch CÃ¢y trong Xe Ä‘Ã£ chá»n" expanded="true">
                            <TableView fx:id="tblTreeList" prefHeight="120">
                                <columns>
                                    <TableColumn fx:id="colTreeCode" text="MÃ£ CÃ¢y" />
                                    <TableColumn fx:id="colCreatedDate" text="NgÃ y táº¡o" />
                                    <TableColumn fx:id="colFloor" text="Táº§ng" />
                                </columns>
                            </TableView>
                        </TitledPane>

                        <TitledPane text="ðŸ“¦ Danh sÃ¡ch Cuá»™n trong CÃ¢y Ä‘Ã£ chá»n" expanded="true">
                            <TableView fx:id="tblRollInTree" prefHeight="120">
                                <columns>
                                    <TableColumn fx:id="colRollCodeInTree" text="MÃ£ Cuá»™n" />
                                    <TableColumn fx:id="colSapCodeInTree" text="SAP Code" />
                                    <TableColumn fx:id="colQtyInTree" text="Sá»‘ lÆ°á»£ng" />
                                    <TableColumn fx:id="colWarehouseInTree" text="Kho" />
                                </columns>
                            </TableView>
                        </TitledPane>

                    </VBox>
                </TitledPane>
            </VBox>
        </HBox>



        <!-- Log -->
        <TextArea fx:id="txtStatusLog" editable="false" prefHeight="80" wrapText="true" />

    </VBox>
</AnchorPane>
